@model HungApple.Models.Product

@{
    ViewData["Title"] = "Delete";
    Layout = "_AdminPanel";
}


<h3><strong>XÓA SẢN PHẨM</strong></h3>
<div>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Description)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Description)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Detail)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Detail)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Price)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Price)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.PriceDiscount)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.PriceDiscount)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Image)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Image)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Color)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Color)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Quantity)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Quantity)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.IsNew)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.IsNew)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.IsBestSeller)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.IsBestSeller)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Category)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Category.Name)
        </dd>
    </dl>

    <form asp-action="ProductsDelete" onsubmit="deleteFunction(event)" id="deleteForm">
        <input type="hidden" asp-for="Id" />
        <input type="submit" value="Xác nhận xóa" class="w3-button w3-blue w3-round" />
        <a asp-action="ProductsIndex" class="w3-button w3-blue w3-round" style="text-decoration:none;">Trở về</a>
    </form>
</div>
<script>
    function deleteFunction(e) {
        e.preventDefault();
        Swal.fire({
            title: "Bạn có muốn xóa?",
            text: "Bạn không hoàn lại điều này!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Xác nhận xóa",
            cancelButtonText: "Hủy bỏ"
        }).then((result) => {
            if (result.isConfirmed) {
                const deleteForm = document.getElementById('deleteForm');
                deleteForm.submit();
                Swal.fire({
                    title: "Đã xóa sản phẩm!",
                    icon: "success",
                    showConfirmButton: false
                });
            }
            else {
                Swal.fire({
                    title: "Đã hủy!",
                    icon: "error",
                    showConfirmButton: false
                });
                setTimeout(function () {
                    window.location.href = '/Admin/ProductsIndex';
                }, 1500);
            }
        });
    }
</script>